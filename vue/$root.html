<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div id="app">
		{{ num }}
		<com-a></com-a>
	</div>
	<script type="text/javascript" src="../vue.js"></script>
	<script type="text/javascript">
		const comA = {
			template: `<div>
				<button @click="comAHandle">comA click</button>
			</div>`,
			methods: {
				comAHandle(){
					console.log(++this.$root.num)
					this.$root.$on('numHandle', (e) => {
						console.log(e)
					})
					this.$root.$emit('numHandle', '$root')
					
					//this.$root.$off("numHandle");
				}
			}
		}

		new Vue({
			data: {
				num: 0
			},
			components: {
				comA
			}
		}).$mount('#app')
	</script>
</body>
</html>